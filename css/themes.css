/* Damien Kael Easter Egg Theme */
.damien-theme {
    --gold: #9b59b6;
    /* Amethyst */
    --gold-bright: #d185f5;
    --dark-charcoal: #0d0012;
    --dark-panel: rgba(20, 0, 35, 0.9);
    --parchment: #e6dbf1;
    --ink: #2a0035;
    --crimson: #4b0082;
    /* Indigo */
    --glass: rgba(155, 89, 182, 0.05);
    /* Colors specific to Damien */
    --damien-purple: #9b59b6;
    --purple-bright: #d185f5;
    --header-tracker-bg: rgba(14, 0, 20, 0.9);
    --header-tracker-border: var(--damien-purple);

    /* Damien Global Overrides */
    --input-bg: rgba(20, 0, 35, 0.9);
    --input-border: var(--damien-purple);
    --input-focus-bg: rgba(30, 0, 50, 0.95);
    /* Keep dark theme consistent */
    --input-focus-shadow: rgba(139, 92, 246, 0.5);
    --select-arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23d185f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    --hr-color: var(--damien-purple);
    --card-border: var(--damien-purple);
    --scroll-btn-bg: rgba(20, 0, 35, 0.95);
    --scroll-btn-color: var(--damien-purple);
    --text-shadow-glow: 0 0 8px rgba(209, 133, 245, 0.4);

    /* Shadows & Glows */
    --select-shadow: 0 4px 15px rgba(0, 0, 0, 0.6), inset 0 0 10px rgba(155, 89, 182, 0.2);
    --select-hover-glow: 0 0 20px rgba(155, 89, 182, 0.4);
    --select-focus-glow: 0 0 25px rgba(155, 89, 182, 0.5);
}

.damien-theme.medieval-theme {
    background-image: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.95)),
        url('../assets/backgrounds/damien-bg.png') !important;


    background-size: cover !important;

    background-repeat: no-repeat !important;
    background-attachment: fixed !important;
    background-position: center !important;
    min-height: 100vh !important;
}

.damien-theme .scroll-paper {
    background: radial-gradient(circle at center, #d8b4fe 0%, #b088f9 100%);
    border: 3px double #9b59b6;
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.7), inset 0 0 40px rgba(0, 0, 0, 0.2);
}

.damien-theme .scroll-title {
    color: #4b0082;
    font-family: 'Grenze Gotisch', serif;
    letter-spacing: 4px;
}

.damien-theme #rpg-trivia {
    color: #2a0035;
    font-size: 1.4rem;
}

/* Cleaned up Damien overrides */
body.damien-theme .medieval-select {
    background-image: var(--select-arrow) !important;
}

body.damien-theme hr {
    border-color: var(--damien-purple);
    background: var(--damien-purple);
}

body.damien-theme .medieval-card,
body.damien-theme .header-center,
body.damien-theme .header-dropdown-content,
body.damien-theme .app-header {
    border-color: var(--damien-purple) !important;
}

body.damien-theme .chronic-notes .medieval-textarea,
body.damien-theme .traits-full-grid .medieval-textarea {
    background-color: rgba(20, 0, 35, 0.9) !important;
    color: #e2e8f0 !important;
    border-color: var(--damien-purple) !important;
}

body.damien-theme #scroll-up,
body.damien-theme #scroll-down {
    border-color: var(--damien-purple);
    color: var(--damien-purple);
    background: rgba(20, 0, 35, 0.95);
    box-shadow: 0 0 15px rgba(147, 51, 234, 0.3);
}

body.damien-theme .section-title,
body.damien-theme .details-container h2 {
    color: var(--gold-bright) !important;
    text-shadow: 0 0 5px rgba(209, 133, 245, 0.3);
}

body.damien-theme .form-group label,
body.damien-theme .header-label {
    color: var(--gold-bright) !important;
    text-shadow: 0 0 5px rgba(209, 133, 245, 0.3);
}

body.damien-theme .score-card .score-mod {
    background: rgba(155, 89, 182, 0.1);
    color: var(--gold-bright);
}

body.damien-theme .death-row {
    color: var(--purple-bright) !important;
}

body.damien-theme .item-desc-input {
    background: rgba(147, 51, 234, 0.05) !important;
    color: #e2e8f0;
}

/* Custom Cursors Application */
.cursor-sword-gold,
.cursor-sword-gold *,
.cursor-sword-gold a,
.cursor-sword-gold button,
.cursor-sword-gold .nav-btn {
    cursor: url('../assets/cursors/sword_gold.png') 0 0, auto !important;
}

.cursor-sword-silver,
.cursor-sword-silver *,
.cursor-sword-silver a,
.cursor-sword-silver button,
.cursor-sword-silver .nav-btn {
    cursor: url('../assets/cursors/sword_silver.png') 0 0, auto !important;
}

.cursor-sword-crimson,
.cursor-sword-crimson *,
.cursor-sword-crimson a,
.cursor-sword-crimson button,
.cursor-sword-crimson .nav-btn {
    cursor: url('../assets/cursors/sword_crimson.png') 0 0, auto !important;
}

.cursor-sword-shadow,
.cursor-sword-shadow *,
.cursor-sword-shadow a,
.cursor-sword-shadow button,
.cursor-sword-shadow .nav-btn {
    cursor: url('../assets/cursors/sword_shadow.png') 0 0, auto !important;
}

.cursor-sword-emerald,
.cursor-sword-emerald *,
.cursor-sword-emerald a,
.cursor-sword-emerald button,
.cursor-sword-emerald .nav-btn {
    cursor: url('../assets/cursors/sword_emerald.png') 0 0, auto !important;
}

.cursor-staff-crystal,
.cursor-staff-crystal *,
.cursor-staff-crystal a,
.cursor-staff-crystal button,
.cursor-staff-crystal .nav-btn {
    cursor: url('../assets/cursors/staff_crystal.png') 0 0, auto !important;
}

.cursor-staff-sunlight,
.cursor-staff-sunlight *,
.cursor-staff-sunlight a,
.cursor-staff-sunlight button,
.cursor-staff-sunlight .nav-btn {
    cursor: url('../assets/cursors/staff_sunlight.png') 0 0, auto !important;
}

.cursor-staff-lunar,
.cursor-staff-lunar *,
.cursor-staff-lunar a,
.cursor-staff-lunar button,
.cursor-staff-lunar .nav-btn {
    cursor: url('../assets/cursors/staff_lunar.png') 0 0, auto !important;
}

.cursor-staff-shadow,
.cursor-staff-shadow *,
.cursor-staff-shadow a,
.cursor-staff-shadow button,
.cursor-staff-shadow .nav-btn {
    cursor: url('../assets/cursors/staff_shadow.png') 0 0, auto !important;
}

.cursor-staff-emerald,
.cursor-staff-emerald *,
.cursor-staff-emerald a,
.cursor-staff-emerald button,
.cursor-staff-emerald .nav-btn {
    cursor: url('../assets/cursors/staff_emerald.png') 0 0, auto !important;
}

.cursor-potion-red,
.cursor-potion-red *,
.cursor-potion-red a,
.cursor-potion-red button,
.cursor-potion-red .nav-btn {
    cursor: url('../assets/cursors/potion_red.png') 0 0, auto !important;
}

.cursor-potion-blue,
.cursor-potion-blue *,
.cursor-potion-blue a,
.cursor-potion-blue button,
.cursor-potion-blue .nav-btn {
    cursor: url('../assets/cursors/potion_blue.png') 0 0, auto !important;
}

.cursor-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(64px, 1fr));
    gap: 12px;
    margin-top: 10px;
    padding: 10px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 8px;
}

.cursor-option {
    width: 64px;
    height: 64px;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid transparent;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.cursor-option:hover {
    background: rgba(241, 196, 15, 0.1);
    border-color: var(--gold);
    transform: scale(1.05);
}

.cursor-option.active {
    background: rgba(241, 196, 15, 0.2);
    border-color: var(--gold);
    box-shadow: 0 0 15px var(--gold);
}

.cursor-option img {
    width: 48px;
    height: 48px;
    object-fit: contain;
}

.settings-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 20px;
}

.settings-actions {
    margin-top: 20px;
    display: flex;
    justify-content: flex-end;
}

/* Fix Death Saves in Damien Mode */
body.damien-theme .death-row input[type="checkbox"] {
    background-color: transparent !important;
    border-color: var(--damien-purple) !important;
}

body.damien-theme .death-row.successes input:checked {
    background-color: var(--gold-bright) !important;
}

body.damien-theme .death-row.failures input:checked {
    background-color: var(--crimson) !important;
}

/* =========================================
   LOADER OVERRIDES FOR ELDRIN
   ========================================= */
.eldrin-theme {
    --spinner-inner: var(--eldrin-blue);
    --spinner-outer: rgba(41, 128, 185, 0.3);
}

/* Optional: Twist the animation glow for Eldrin */
.eldrin-theme .loading-text {
    /* Re-declare animation usage if needed, or just variables */
    --sunlight: #5dade2;
    /* Light Blue for the pulse */
}


/* =========================================
   ELDRIN THE BARD THEME (Blue & Gold)
   ========================================= */
.eldrin-theme {
    --gold: #f1c40f;
    /* Sun Flower Gold */
    --gold-bright: #f39c12;
    /* Orange Gold */
    --gold-light: #f7dc6f;

    --parchment: #d6eaf8;
    /* Light Blueish Parchment */
    --ink: #1a5276;
    /* Deep Ocean Blue */

    --crimson: #e74c3c;
    /* Bright Red */
    --glass: rgba(41, 128, 185, 0.1);

    /* Specific */
    --eldrin-blue: #2980b9;
    --eldrin-dark: #154360;

    --input-bg: rgba(21, 67, 96, 0.9);
    --input-border: var(--gold);
    --input-focus-bg: rgba(30, 80, 120, 0.95);

    --header-tracker-bg: rgba(21, 67, 96, 0.9);
    --header-tracker-border: var(--gold);

    --text-shadow-glow: 0 0 8px rgba(41, 128, 185, 0.4);

    /* Shadows & Glows */
    --select-shadow: 0 4px 15px rgba(0, 0, 0, 0.5), inset 0 0 10px rgba(41, 128, 185, 0.2);
    --select-hover-glow: 0 0 20px rgba(41, 128, 185, 0.3);
    --select-focus-glow: 0 0 25px rgba(41, 128, 185, 0.4);
}

.eldrin-theme.medieval-theme {
    /* Use Lyra's background (Default) with a blue tint if possible, or just the same image */
    background-image: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.95)),
        url('../assets/backgrounds/eldrin-bg.png') !important;
    background-size: cover !important;
}



/* Scroll Paper */
.eldrin-theme .scroll-paper {
    background: radial-gradient(circle at center, #ebf5fb 0%, #d6eaf8 100%);
    border: 3px double #2980b9;
    box-shadow: 0 10px 30px rgba(0, 50, 100, 0.4);
}

.eldrin-theme .scroll-title {
    color: #154360;
    font-family: 'Cinzel', serif;
}

.eldrin-theme .medieval-btn {
    background: linear-gradient(135deg, var(--eldrin-blue), var(--eldrin-dark));
    border-color: var(--gold);
    color: var(--gold-light);
}

.eldrin-theme .medieval-btn:hover {
    background: var(--gold);
    color: var(--eldrin-dark);
    box-shadow: 0 0 15px var(--eldrin-blue);
}

/* Cleaned up Eldrin overrides */
body.eldrin-theme .medieval-card,
body.eldrin-theme .app-header,
body.eldrin-theme .header-dropdown-content {
    border-color: var(--eldrin-blue) !important;
}

body.eldrin-theme .vital-box,
body.eldrin-theme .score-card {
    background: rgba(41, 128, 185, 0.1);
    border-color: var(--eldrin-blue);
}

/* Fix Death Saves in Eldrin Mode */
body.eldrin-theme .death-row input[type="checkbox"] {
    background-color: transparent !important;
    border-color: var(--eldrin-blue) !important;
}

body.eldrin-theme .death-row.successes input:checked {
    background-color: var(--gold) !important;
}

body.eldrin-theme .death-row.failures input:checked {
    background-color: var(--crimson) !important;
}